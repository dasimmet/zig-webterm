<!DOCTYPE html>
<head>
    <script>
var client = fetch("/client.wasm");

let instance = undefined;
var importObject = {
  env: {
    eval: function (script_ptr, script_len) {
      const memory = instance.exports.memory;
      const memv = new Uint8Array(memory.buffer, script_ptr, script_len);
      var string = new TextDecoder().decode(memv);
      eval(string);
    },
  },
};

WebAssembly.instantiateStreaming(client, importObject)
  .then((res) => {
    instance = res.instance;
    instance.exports.main();
  },
)
.catch(error=>{
  console.log('there was some error; ', error)
});
    </script>
</head>
<body>
  <canvas id="canvas"></canvas>
  <script>
    let canvas = document.getElementById("canvas");
    window.addEventListener("resize", (ev)=>{
        let canvas = document.getElementById("canvas");
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    });
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  </script>
</body>